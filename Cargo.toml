[package]
name        = "hauchiwa"
version     = "0.3.1"
edition     = "2024"
authors     = ["Maciej Jur <maciej@kamoshi.org>"]
keywords    = ["ssg"]
license     = "GPL-2.0-or-later"
description = "Incredibly flexible static site generator library with incremental rebuilds and cached image optimization"
repository  = "https://github.com/kamoshi/hauchiwa"

[features]
default = ["server"]
server = ["axum", "tokio", "tower-http"]

[dependencies]
camino                  = "1.1"
chrono                  = "0.4"
gray_matter             = { version = "0.2", default-features = false, features = ["yaml"] }
glob                    = "0.3"
grass                   = { version = "0.13", default-features = false, features = ["random"] }
image                   = "0.25"
rayon                   = "1.10"
serde                   = { version = "1.0", features = ["derive"] }
sha2                    = "0.10"
sitemap-rs              = "0.3"

# CLI
console                 = { version = "0.15", default-features = false }
indicatif               = { version = "0.17", features = ["rayon"] }

# Error handling
anyhow                  = "1.0"
thiserror               = "2.0"

# Watch
notify                  = "8.0"
notify-debouncer-full   = { version = "0.5", default-features = false }
tungstenite             = "0.26"

# Server
axum                    = { version = "0.8", optional = true, default-features = false, features = ["tokio", "http1"] }
tokio                   = { version = "1.44", optional = true, default-features = false, features = ["rt"] }
tower-http              = { version = "0.6", optional = true, default-features = false, features = ["fs"] }
